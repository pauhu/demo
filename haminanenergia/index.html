<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pauhu × Hamina Energia — Cost & Compliance Demo</title>
  <meta name="description" content="Only what saves money or prevents fines.">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="/assets/pauhu.ai_brand_mark_nega.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <main class="shell">
    <header class="hdr card">
      <div class="brand">
        <img class="logo" src="https://raw.githubusercontent.com/pauhu/demo/main/assets/pauhu.ai_logo_nega.png" alt="pauhu logo">
        <div class="tenant">× Hamina Energia</div>
      </div>
      <div class="badge" id="healthBadge">Status: <span class="dot dot-warn"></span> Checking…</div>
    </header>

    <section class="hero card">
      <h1>Money saved. Fines avoided.</h1>
      <p class="lead">AI is the engine: it computes the schedule, explains the decision, and tags events for EU AI Act. Responses are below the buttons — no hidden clicks.</p>
    </section>

    <section class="grid">
      <!-- ROI -->
      <div class="mod card">
        <div class="head">
          <h3>€ Savings Today</h3>
          <span class="pill">Outcome</span>
        </div>
        <p class="muted">Uses Finnish spot prices (prefilled) and the recommended shift.</p>
        <div class="row">
          <label>Off-peak €/MWh <input id="priceOff" type="number" step="1" value="2"></label>
          <label>Peak €/MWh <input id="pricePeak" type="number" step="1" value="50"></label>
          <label>Shifted kWh <input id="shiftKwh" type="number" step="10" value="3000"></label>
        </div>
        <div class="actions">
          <button class="btn pri" onclick="calcSavings()">Calculate</button>
          <span id="previewSavings" class="preview"></span>
        </div>
        <details>
          <summary>Show calculation JSON</summary>
          <pre id="savingsOut">{}</pre>
        </details>
      </div>

      <!-- Optimizer -->
      <div class="mod card">
        <div class="head">
          <h3>Cost Optimizer</h3>
          <span class="pill ai">AI: schedule engine</span>
        </div>
        <p class="muted">AI selects when to shift load to lower €/MWh, given tariffs, demand, storage and constraints.</p>
        <label>window_id <input id="windowId" value="pilot-window-1"></label>
        <div class="actions">
          <button class="btn pri" onclick="getOptimization()">Get recommendation</button>
        </div>
        <!-- Inline AI answer (always visible) -->
        <div class="ai-ans" id="optInline">Ready.</div>
        <!-- Raw payloads collapsible -->
        <details>
          <summary>Show AI request (OpenAI)</summary>
          <pre id="optReq">{}</pre>
        </details>
        <details>
          <summary>Show full AI response</summary>
          <pre id="outputOpt">{}</pre>
        </details>
      </div>

      <!-- Compliance -->
      <div class="mod card">
        <div class="head">
          <h3>Compliance Monitor</h3>
          <span class="pill ai">AI: EU AI Act tagging</span>
        </div>
        <p class="muted">AI classifies logs against EU AI Act (disclosures, logging, HILt) to prevent fines.</p>
        <label>scope <input id="compScope" value="ai"></label>
        <div class="actions">
          <button class="btn pri" onclick="getCompliance()">Get report</button>
        </div>
        <!-- Inline AI answer -->
        <div class="ai-ans" id="compInline">Ready.</div>
        <!-- Raw payloads -->
        <details>
          <summary>Show AI request (classifier)</summary>
          <pre id="compReq">{}</pre>
        </details>
        <details>
          <summary>Show full AI response</summary>
          <pre id="compOut">{}</pre>
        </details>
      </div>

      <!-- Outage Drill -->
      <div class="mod card">
        <div class="head">
          <h3>Outage Drill</h3>
          <span class="pill">Resilience + Audit</span>
        </div>
        <p class="muted">Simulate a feeder trip: service remains available; event is logged for audit.</p>
        <label>Feeder ID <input id="feederId" value="FEEDER-A12"></label>
        <div class="actions">
          <button class="btn" onclick="triggerOutage()">Trigger outage drill</button>
        </div>
        <!-- Inline status -->
        <div class="ai-ans" id="outageInline">Ready.</div>
        <details>
          <summary>Show full drill JSON</summary>
          <pre id="outageOut">{}</pre>
        </details>
      </div>
    </section>

    <section class="card">
      <h3>Integration (what we need from you)</h3>
      <ul class="needs">
        <li><code>GET /grid/health</code> → <span class="hint">{ status: green|amber|red }</span></li>
        <li><code>POST /grid/usage</code> → <span class="hint">{ t, meter_id, kwh }</span></li>
        <li class="muted">Optional: <code>GET /tariff/today</code> → <span class="hint">{ peak_eur_mwh, offpeak_eur_mwh }</span></li>
      </ul>
    </section>

    <footer class="ft">
      <span class="muted">pauhu — EU-hosted • AI Act ready • Cloud-agnostic</span>
    </footer>
  </main>
  <input type="checkbox" id="demoMode" checked style="display:none">
  <script src="script.js"></script>
</body>
</html>
